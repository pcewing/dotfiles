#!/usr/bin/env bash

[[ -f "$HOME/.env" ]] && . "$HOME/.env"

export EDITOR='nvim'

# Load config files
for config in "$DOTFILES/config/bash/"*.sh; do
    . "$config"
done

src_if_exists() {
   [[ -f "$1" ]] && . "$1"
}

declare -a sources=(
    "$HOME/.fzf.bash"
    "$HOME/.localrc"
)

for i in "${sources[@]}"; do
    src_if_exists  "$i"
done

# Prompt
black="\[\033[30m\]"
red="\[\033[31m\]"
green="\[\033[32m\]"
yellow="\[\033[33m\]"
blue="\[\033[34m\]"
purple="\[\033[35m\]"
cyan="\[\033[36m\]"
white="\[\033[37m\]"
none="\[\033[00m\]"

PS1="$white[$green\u$white@$blue\H$white:$yellow\w$white] "

# Node.js configuration
if command -v "node" &>"/dev/null"; then
    export NVM_DIR="$HOME/.nvm"
    [ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"
fi

# Golang configuration
if command -v "go" &>"/dev/null"; then
    # Set GOPATH
    export GOPATH="$HOME/go"
fi

# Rust configuration
if command -v "rust" &>"/dev/null"; then
    [ -f "$HOME/.cargo/env" ] && . "$HOME/.cargo/env"
fi
